# Server
PORT=3000
NODE_ENV=development
SERVER_LOG_LEVEL=info

# Database (PostgreSQL)
DATABASE_URL=postgresql://context_engine:context_engine_dev@localhost:5432/context_engine

# Authentication (Required)
# HMAC secret for hashing API keys. Must be >= 32 characters.
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY_HASH_SECRET=

# Platform admin token for cross-org operations (org creation, key bootstrapping).
# Must start with "cep_" and be >= 32 characters.
# Generate with: node -e "console.log('cep_' + require('crypto').randomBytes(32).toString('hex'))"
CE_PLATFORM_TOKEN=

# Embeddings (Voyage AI) - Optional for search functionality
VOYAGE_API_KEY=

# Background Embedding Processor (Optional)
# Enable automatic background indexing of pending components
# EMBEDDING_PROCESSOR_ENABLED=false
# Polling interval in milliseconds (how often to check for pending components)
# EMBEDDING_PROCESSOR_INTERVAL=5000
# Batch size (how many components to process per cycle)
# EMBEDDING_PROCESSOR_BATCH_SIZE=5

# LLM Provider (Required for processing endpoints)
# Provider: 'anthropic' (default) or 'gemini'
CONTEXT_ENGINE_PROVIDER=gemini
# Model override (optional, uses provider default if not set)
CONTEXT_ENGINE_MODEL=gemini-2.5-flash
# API key for the selected provider
LLM_API_KEY=

# =============================================================================
# CORS Configuration (Security)
# =============================================================================

# Allowed CORS origins (comma-separated list)
# - Development: Use "*" to allow all origins (local testing)
# - Staging: Specify exact domains, e.g., "https://staging.myapp.com,https://inspector.modelcontextprotocol.io"
# - Production: Use "NONE" to disable browser CORS, or specific domains only
# Example: CORS_ALLOWED_ORIGINS=https://app.mycompany.com,https://admin.mycompany.com
CORS_ALLOWED_ORIGINS=*

# MCP-specific CORS policy
# - DISABLED: No browser access to /mcp (recommended for production - AI assistants are server-to-server)
# - RESTRICTED: Use CORS_ALLOWED_ORIGINS allowlist (for internal dashboards)
# - PERMISSIVE: Allow all origins (development/testing only)
MCP_CORS_MODE=PERMISSIVE

# =============================================================================
# Test Script Configuration (scripts/test-extract.ts)
# =============================================================================
# These are only needed to run: yarn test:extract [component]
# Not required for normal server operation.

# Organization ID to test against (UUID from your database)
# ORG_ID=

# API key with component:write scope (ce_ prefixed key for that org)
# API_KEY=
